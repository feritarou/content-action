name: Mastory Content Action
description: Propagates changes to your repository so they become directly available in Mastory.

inputs:
  scope:
    description: Your content contributor scope (by default, your GitHub user or organization name). Check your profile page on mastory.io if you are unsure what your scope name is.
    required: false
    default: mastoryberlin

runs:
  using: composite
  steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 1
    - name: changed-files
      uses: tj-actions/changed-files@v45
    - name: run-script
      run: ${GITHUB_ACTION_PATH}/script.sh ${{ inputs.scope }}
      shell: bash
      env:
        ADDED_FILES: ${{ steps.changed-files.outputs.added_files }}
        COPIED_FILES: ${{ steps.changed-files.outputs.copied_files }}
        DELETED_FILES: ${{ steps.changed-files.outputs.deleted_files }}
        MODIFIED_FILES: ${{ steps.changed-files.outputs.modified_files }}
        RENAMED_FILES: ${{ steps.changed-files.outputs.renamed_files }}